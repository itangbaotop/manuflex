spring:
  application:
    name: platform-data-service # â¬…ï¸ åº”ç”¨åç§°ï¼Œä¸ application.yml ä¸­çš„ä¸€è‡´
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848 # Nacos Server åœ°å€ (Docker Compose ä¸­ nacos æœåŠ¡å)
        namespace: # å‘½åç©ºé—´ID (å¯é€‰ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤å‘½åç©ºé—´å¯ä»¥ç•™ç©º)
      config:
        server-addr: localhost:8848 # Nacos Server åœ°å€
        file-extension: yml # é…ç½®æ–‡ä»¶çš„æ‰©å±•å
        group: DEFAULT_GROUP # é…ç½®ç»„
        namespace: # å‘½åç©ºé—´ID (å¯é€‰)
        refresh-enabled: true # å¯ç”¨åŠ¨æ€åˆ·æ–°é…ç½®

    sentinel: # â¬…ï¸ æ–°å¢ Sentinel é…ç½®
      transport:
        dashboard: localhost:8858 # Sentinel æ§åˆ¶å°åœ°å€ (é€šå¸¸æ˜¯ç‹¬ç«‹éƒ¨ç½²çš„ Sentinel Dashboard)
        port: 8719 # Sentinel å®¢æˆ·ç«¯æš´éœ²çš„ç«¯å£ï¼Œç”¨äºå’Œ Dashboard é€šä¿¡
      datasource: # â¬…ï¸ é…ç½® Sentinel è§„åˆ™æŒä¹…åŒ–åˆ° Nacos (å¯é€‰ï¼Œä½†æ¨è)
        flow:
          nacos:
            server-addr: localhost:8848
            group-id: DEFAULT_GROUP
            data-id: ${spring.application.name}-flow-rules
            data-type: json
            rule-type: flow


  config:
    import:
      # âš ï¸ å…³é”®ä¿®æ­£ï¼šæ˜¾å¼æŒ‡å®š DataIdã€‚é»˜è®¤ DataId ä¸º ${åº”ç”¨å}.yml
      # æ ¼å¼ä¸º: nacos:[dataId]?[group]&[refresh]
      - nacos:${spring.application.name}.${spring.cloud.nacos.config.file-extension}

# =================================================
# ğŸ‘‡ Zipkin ä¸ Tracing æ ¸å¿ƒé…ç½®
# =================================================
management:
  tracing:
    sampling:
      probability: 1.0 # é‡‡æ ·ç‡ï¼š1.0 = 100% é‡‡é›†ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ï¼›ç”Ÿäº§ç¯å¢ƒå»ºè®® 0.1
  zipkin:
    tracing:
      # Zipkin æœåŠ¡å™¨åœ°å€
      # å¦‚æœ Zipkin è·‘åœ¨ Docker ä¸”æ˜ å°„äº†ç«¯å£ï¼Œæœ¬åœ°å¼€å‘å†™ localhost:9411
      endpoint: http://localhost:9411/api/v2/spans