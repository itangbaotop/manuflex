spring:
  application:
    name: platform-lims-service # ⬅️ 应用名称，与 application.yml 中的一致
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848 # Nacos Server 地址 (Docker Compose 中 nacos 服务名)
        namespace: # 命名空间ID (可选，如果使用默认命名空间可以留空)
      config:
        server-addr: localhost:8848 # Nacos Server 地址
        file-extension: yml # 配置文件的扩展名
        group: DEFAULT_GROUP # 配置组
        namespace: # 命名空间ID (可选)
        refresh-enabled: true # 启用动态刷新配置

    sentinel: # ⬅️ 新增 Sentinel 配置
      transport:
        dashboard: localhost:8858 # Sentinel 控制台地址 (通常是独立部署的 Sentinel Dashboard)
        port: 8719 # Sentinel 客户端暴露的端口，用于和 Dashboard 通信
      datasource: # ⬅️ 配置 Sentinel 规则持久化到 Nacos (可选，但推荐)
        flow:
          nacos:
            server-addr: localhost:8848
            group-id: DEFAULT_GROUP
            data-id: ${spring.application.name}-flow-rules
            data-type: json
            rule-type: flow


  config:
    import:
      # ⚠️ 关键修正：显式指定 DataId。默认 DataId 为 ${应用名}.yml
      # 格式为: nacos:[dataId]?[group]&[refresh]
      - nacos:${spring.application.name}.${spring.cloud.nacos.config.file-extension}